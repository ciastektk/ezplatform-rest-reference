<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8"/>
        <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
        <title>{{ api.title }}</title>

        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/default.min.css">
        <style>
            a {
                color: #000;
            }

            .bold {
                font-weight: bold;
            }

            .badge {
                text-transform: uppercase;
                font-weight: bold !important;
                display: flex !important;
                align-items: center;
                justify-content: center;
                min-width: 85px !important;
                margin-right: 0.5rem;
            }

            .badge i {
                margin-right: 0.2rem;
                font-size: 1rem;
            }

            .badge-get {
                background-color: #2196f3 !important;
            }

            .badge-post {
                background-color: #4caf50 !important;
            }

            .badge-delete {
                background-color: #f44336 !important;
            }

            .badge-put {
                background-color: #ff9800 !important;
            }

            .badge-patch {
                background-color: #673ab7 !important;
            }

            .badge-head {
                background-color: #222222 !important;
            }

            .badge-options {
                background-color: #616161 !important;
            }

            .text-primary {
                color: #ee6e73 !important;
            }

            .bg-primary {
                background-color: #ee6e73 !important;
            }

            .tabs .indicator {
                display: none;
            }

            .tabs a {
                color: #212121 !important;
            }

            .tabs .tab a.active {
                border-bottom: 2px solid #212121;
            }

            .tabs a:focus {
                background-color: #f5f5f5 !important;
            }

            .tabs.request a {
                color: #039be5 !important;
            }

            .tabs.request .tab a.active {
                border-bottom: 2px solid #039be5;
            }

            .tabs.request a:focus {
                background-color: #e1f5fe !important;
            }

            .tabs.response a {
                color: #4db6ac !important;
            }

            .tabs.response .tab a.active {
                border-bottom: 2px solid #4db6ac;
            }

            .tabs.response a:focus {
                background-color: #e0f2f1 !important;
            }

            .space-between {
                justify-content: space-between;
            }

            .d-flex {
                display: flex;
            }

            .chip {
                line-height: 22px;
                font-size: 15px;
                height: 22px;
                margin-bottom: 0;
                border-radius: 2px;
                padding: 0 5px;
                margin-left: 5px;
            }

            ul.browser-default {
                padding-left: 20px;
            }

            ul.browser-default li {
                margin-top: 10px;
            }

            .example {
                position: relative;
                border: 1px solid #e0e0e0;
            }

            .example pre {
                padding: 8px;
                margin: 0;
            }

            .collapsible .example {
                border: none;
            }

            .collapsible .example pre {
                padding: 0;
            }

            .modal {
                height: 80% !important;
                max-height: 80% !important;
                width: 60% !important;
            }

            .hljs {
                color: #000;
                background: transparent;
            }

            .hljs-attr {
                color: #000;
            }

            .hljs-string {
                color: #1976d2;
            }

            .hljs-number {
                color: #00796b;
            }

            .hljs-literal {
                color: #d32f2f;
            }

            .copy-to-clipboard {
                position: absolute;
                right: 0;
                top: 0;
            }

            .copy-to-clipboard-text {
                height: 0;
                width: 0;
                opacity: 0;
                position: absolute;
                top: 0;
                right: 0;
            }

            .search-input {
                margin: 0 !important;
                margin-top: 20px !important;
                border: 0 !important;
                background: #eeeeee !important;
                border-radius: 1000px !important;
                box-shadow: none !important;
                padding: 0 15px !important;
                max-width: 300px;
                height: 2.4rem !important;
            }

            .search-input::placeholder {
                color: #555;
            }

            .property-badge {
                padding: 0 5px;
                margin: 0;
                font-size: 10px;
                font-weight: bold;
                color: #FFF;
                border-radius: 100px;
                line-height: 13px;
                text-align: center;
                text-transform: uppercase;
                margin-right: 15px;
                margin-top: 1px;
            }

            .property-condition {
                display: flex;
                align-items: center;
                margin-right: 15px;
            }

            .property-condition span {
                color: #777;
                font-style: italic;
                margin-right: 4px;
            }

            .resource {
            }

            .resource-description {
                color: #666;
                margin: 5px 0;
            }

            .resource-method {
                flex-grow: 0;
            }

            .resource-uri {
                flex-grow: 1;
            }

            .resource-security {
                align-self: flex-end;
                vertical-align: top;
            }

            .section {
                padding: 0;
            }

            .collection.with-header .collection-header,
            .collection.with-header .collection-item {
                padding-left: 0;
            }

            .collection .collection-item {
                padding: 10px 0;
            }

        </style>
    </head>
<body>
    <div class="section grey darken-4">
        <div class="container">
            <h3 class="white-text">
                <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAhCAYAAABX5MJvAAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxMzggNzkuMTU5ODI0LCAyMDE2LzA5LzE0LTAxOjA5OjAxICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+IEmuOgAAAOdJREFUWIXt1rEOwUAYwPH/VwYDNpuBMFkYDB6D3eAVbN7Di3gCVhOJFxAMTYwSDNJ8phukRHuuQnL/7Zr7cr82TVpR1QAo853OInKLXVXVmn6v/jNZkPm9J8gjTB5h8ghTPuG+AzB3cN7+E8RKREYOEE9LigBAVYtA17FhmQoBNIGFY0T9r17MWNfpmCjc2h3a6lEYTj5HROGWaLexmg0q1ce1LcJlHmHyCJNHmDzC5BGmPHAEBm/2hZkiROQCzLI85C3CerDVi30NE8822g9rSTOsqh1gbXXy637jzyrtk8gBJceG0x0et5SL8kjo6AAAAABJRU5ErkJggg==" alt="" />
                {{ api.title }} 
                {% if api.version %}
                    <small class="white-text">{{ api.version }}</small>
                {% endif %}
            </h3>
            <p class="white-text">{{ api.baseUri }}</p>
        </div>
    </div>

    {% if api.documentationList is not empty %}
        <div class="container">
            <div class="section">
                {% if api.baseUriParameters %}
                    <ul>
                        {% for item in api.baseUriParameters %}
                            {#{% include "./templates/item.nunjucks" %} #}
                        {% endfor %}
                    </ul>
                {% endif %}

                {% for documentation in api.documentationList %}
                    <h5>{{ documentation.title }}</h5>
                    {{ documentation.content }}
                {% endfor %}
            </div>
        </div>
    {% endif %}

    <div class="container">
        <div style="display:flex; justify-content:center;">
            <input type="text" id="searchInput" class="search-input" placeholder="Search"></input>
        </div>

        {% for resource in api.resources %}
            <div class="section">
                <h5>{{ resource.displayName|default(resource.uri) }}</h5>
                <ul class="collapsible expandable">
                    {% include theme ~ "/resource.html.twig" %}
                </ul>
            </div>
        {% endfor %}

        {% if api.types is not empty %}
        <div class="section" style="display: none">
            <h5>Types</h5>
            <ul>
                {% for type in api.types %}
                    <li>{% include theme ~ "/type.html.twig" with { type: type} %}</li>
                {% endfor %}
            </ul>
        </div>
        {% endif %}
    </div>

    <div class="section grey darken-4">
        <div class="container">
            <p class="white-text">Copyright 1999-2020 eZ Systems AS and others.</p>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>

    <script>
        $(document).ready(function () {
            M.AutoInit();
            $('pre code').each(function (i, block) {
                hljs.highlightBlock(block);
            });

            $('.collapsible').collapsible({
                accordion: false
            });
        });

        $("#searchInput").keyup(function () {
            var searchValue = $('#searchInput').val();
            searchValue = searchValue === "" ? '.' : searchValue;
            var regex = new RegExp(searchValue, "i");
            $('.search-filter').each(function (i, e) {
                var value = $(e).children('.search-filter-value')[0].innerHTML;
                if (regex.test(value)) {
                    $(e).show();
                } else {
                    $(e).hide();
                }
            });
        });

        function copyToClipboard(selector) {
            $(selector).select();
            document.execCommand("copy");
        }
    </script>
</body>
</html>
